<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Tab Manager</title>
    <link rel="stylesheet" href="extension.css">
    <link rel="icon" href="icons/icon48.png">
    <meta name="color-scheme" content="light dark">
    <meta name="application-name" content="AI Tab Manager">
</head>
<body>
    <div class="container">
        <header>
            <h1>AI Tab Manager</h1>
            <div class="header-actions">
                <button id="refreshBtn" class="btn btn-small" title="Refresh tabs">üîÑ</button>
                <button id="settingsBtn" class="btn btn-small" title="Open options">‚öôÔ∏è</button>
            </div>
        </header>

        <div class="controls">
            <div class="control-group">
                <button id="analyzeBtn" class="btn btn-primary">ü§ñ Analyze & Suggest Groups</button>
                <button id="groupByTagBtn" class="btn btn-secondary">üìÅ Group by Tags</button>
            </div>
            <div class="filter-group">
                <input type="text" id="searchInput" placeholder="Search tabs..." class="search-input">
                <select id="filterSelect" class="filter-select">
                    <option value="all">All Tabs</option>
                    <option value="ungrouped">Ungrouped</option>
                    <option value="grouped">Grouped</option>
                </select>
            </div>
        </div>

        <div class="stats">
            <span id="tabCount">0 tabs</span>
            <span id="windowCount">0 windows</span>
            <span style="margin-left:auto;">
                <a href="#" id="openOptionsLink" title="Open options page" style="font-size:12px;">Open Options</a>
            </span>
        </div>

        <div id="loadingIndicator" class="loading hidden">
            <div class="spinner"></div>
            <span>Analyzing tabs with AI...</span>
        </div>

        <div class="tabs-container">
            <table id="tabsTable" class="tabs-table">
                <thead>
                    <tr>
                        <th><input type="checkbox" id="selectAll"></th>
                        <th>Title</th>
                        <th>URL</th>
                        <th>Group/Tags</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="tabsBody">
                    <!-- Tabs will be inserted here -->
                </tbody>
            </table>
        </div>

        <div class="bulk-actions">
            <button id="groupSelectedBtn" class="btn btn-secondary" disabled>Group Selected</button>
            <button id="moveToNewWindowBtn" class="btn btn-secondary" disabled>Move to New Window</button>
            <button id="closeSelectedBtn" class="btn btn-danger" disabled>Close Selected</button>
        </div>
    </div>
    <script src="extension.js"></script>
    <script>
    // Provide a visible anchor link to options as requested
    document.addEventListener('DOMContentLoaded', () => {
        const link = document.getElementById('openOptionsLink');
        if (link) {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                chrome.runtime.openOptionsPage();
            });
        }
    });
    </script>

</body>
</html>
